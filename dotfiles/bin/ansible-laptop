#!/usr/bin/env bash

cd ~/.dotfiles/ansible || exit 1

# Determine which playbook to use based on argument
mode=${1:-update}
case "$mode" in
full)
  playbook="laptop.yml"
  ;;
update)
  playbook="laptop-update.yml"
  ;;
wsl)
  playbook="laptop-wsl.yml"
*)
  echo "Usage: $0 [full|update|wsl]"
  exit 1
  ;;
esac

ANSIBLE_ROLES_PATH=./roles ansible-playbook playbooks/$playbook --ask-become-pass
